# 更新这些 TP-Link 路由器以修复一个关键的密码漏洞

> 原文：<https://lifehacker.com/update-these-tp-link-routers-to-fix-a-critical-password-1840531919>

如果您拥有四个 TP-Link 路由器中的一个，包括 TP-Link Archer C5 (v4)，您将需要立即找到并安装其最新的固件更新。该补丁修复了一个严重的漏洞，否则攻击者将能够完全控制您的路由器-管理员访问和所有-并将您锁定在外。



这个漏洞最初是由 IBM 听起来很棒的“ [X-Force Red](https://www.ibm.com/security/services/offensive-security-services?cm_mc_uid=70119674141415767676755&cm_mc_sid_50200000=41385371576767675551) ”黑客小队的 Grzegorz Wypych 发现的，它似乎需要某人拥有网络接入*到*你的路由器才能开始。虽然如果你有一个很好的 wifi 密码(和一把很好的前门锁)，这使得这一点不太适用，但这并不是说没有其他漏洞一个熟练的攻击者可以利用这些漏洞进入你的网络或向你的路由器发送命令。

即使这种攻击更有可能影响商业网络或任何其他地方，在这些地方，受损的路由器可能被用作更大规模攻击的媒介，也没有理由在更新家中设备的固件方面偷懒。正如 Wypych 和文章合著者 Limor Kessem 在 [安全情报](https://securityintelligence.com/posts/tp-link-archer-router-vulnerability-voids-admin-password-can-allow-remote-takeover/) 所描述的那样，花几分钟完成这个简单的任务可以让你免受伤害:

> *在无需真正身份验证就获得管理员访问权限后，我们发现这种特定的设备还允许在广域网上配置 FTP。此外，我们可以通过安全的 HTTPS 连接远程管理路由器，这也容易受到 CGI 攻击。如果被恶意的第三方利用，此路由器漏洞的影响和含义可能是有害的。*
> 
> *攻击者不仅可以获得特权访问，而且合法用户也可以被锁定，不再能够通过用户界面登录 web 服务，因为该页面不再接受任何密码(用户不知道)。在这种情况下，受害者可能无法访问控制台甚至外壳，从而无法重新建立新密码。即使有办法设置新密码，下一个易受攻击的 LAN/WAN/CGI 请求也会再次使密码无效。因此，只能通过 USB 端口连接访问 FTP 文件。*

允许这种情况发生的漏洞很奇怪，但看起来很简单。这种被称为“密码溢出”的攻击涉及欺骗 HTTP 报头，使其看起来像是来自路由器的 IP 地址或 TP-Link 的路由器在初始设置 process—tplinkwifi.net 期间使用的域的登录请求。

路由器认为登录请求是合法的，并且随请求一起发送一个比路由器期望的更短的密码字符串，以防止任何人使用正确的密码登录。(基本上是拒绝服务攻击。)发送一个更长的密码字符串来清空先前合法的密码，从而使攻击者能够完全不受保护地访问路由器。

### 立即更新您路由器的固件

为了堵塞这个漏洞，TP-Link 已经为受影响的路由器发布了固件更新。我建议您检查路由器的底部或后部，确认您有什么(及其硬件版本号，如“V4”)，如果您拥有以下四款路由器中的一款，请立即下载更新:

*   TP-LinkT1】Archer C5 v4T3】
*   TP-Link[Archer Mr 200 v4](https://static.tp-link.com/2019/201909/20190903/Archer%20MR200(EU)_V4_20190730.zip)
*   TP-LinkT1】Mr 6400 v4T3】
*   TP-LinkT1】Archer Mr 400 v3T3】

完成后，调出路由器的基于 web 的配置屏幕，登录，并查找与固件更新相关的部分。以 C5 为例，你需要点击顶部的**高级**标签，向下滚动到**“系统工具”**，点击**“固件升级”**然后，您可以浏览找到您下载(并解压缩)的固件更新，并通过大的“升级”按钮将其安装到您的设备上。

虽然如果所有的路由器都能够简单地 ping 一个更新服务器并自动为您下载和安装固件更新，那将是非常美妙的事情，但事实并非如此。保持路由器更新是你的责任。我明白了。一直检查网站的固件更新是一个令人讨厌的过程。

事实上，这可能是你最不想做的事情，即使你很喜欢玩电脑和网络设备(像我一样)。要解决这个问题，可以在你最喜欢的日程安排工具上放置一个提醒，提醒你从现在起三个月后重新访问你的路由器制造商的支持页面，以检查更新，并在那个时候设置另一个提醒，只要你觉得合适。